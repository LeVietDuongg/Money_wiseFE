{
    "sourceFile": "src/app/(user)/topic/[slug]/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1759734123493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759739540181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,11 @@\n import bannerRetire55 from \"@/assets/topic/banner-retire-55.svg\";\r\n import bannerWhereMoney from \"@/assets/topic/banner-where-money.svg\";\r\n import moneyImage from \"@/assets/topic/money.svg\";\r\n import LOGO from \"../../../../../public/logonon.svg\";\r\n+import know from \"@/assets/topic/know.png\";\r\n+import cani55 from \"@/assets/topic/cani55.png\";\r\n+import begintoadvance from \"@/assets/topic/begintoadvance.png\";\r\n \r\n type Post = {\r\n   id: number;\r\n   title: string;\r\n"
                },
                {
                    "date": 1760066968533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -316,5 +316,5 @@\n   </div>\r\n </div>\r\n \r\n   );\r\n-}\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1760079115122,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,320 +1,229 @@\n \"use client\";\r\n \r\n-import Image, { StaticImageData } from \"next/image\";\r\n-import Link from \"next/link\";\r\n-import { useState } from \"react\";\r\n+import { useEffect, useState, useMemo } from \"react\";\r\n+import { useParams } from \"next/navigation\";\r\n+import Image from \"next/image\";\r\n+import HeroSection from \"../components/HeroSection\";\r\n+import { topicService } from \"@/services/topic.service\";\r\n+import { Topic, Post } from \"@/types/topic\";\r\n+import Contact from \"@/components/Contact\";\r\n import { useLanguage } from \"@/contexts/LanguageContext\";\r\n+import { ChevronLeft, ChevronRight } from \"lucide-react\";\r\n \r\n-import HeroSection from \"@/app/(user)/topic/components/HeroSection\";\r\n-import Contact from \"@/components/Contact\";\r\n+export default function TopicPage() {\r\n+  const { slug } = useParams<{ slug: string }>();\r\n+  const [topic, setTopic] = useState<Topic | null>(null);\r\n+  const [posts, setPosts] = useState<Post[]>([]);\r\n+  const [searchQuery, setSearchQuery] = useState(\"\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const postsPerPage = 9;\r\n+  const { t } = useLanguage();\r\n \r\n-import bannerLifetimeMoney from \"@/assets/topic/banner-lifetime-money.svg\";\r\n-import bannerRetire55 from \"@/assets/topic/banner-retire-55.svg\";\r\n-import bannerWhereMoney from \"@/assets/topic/banner-where-money.svg\";\r\n-import moneyImage from \"@/assets/topic/money.svg\";\r\n-import LOGO from \"../../../../../public/logonon.svg\";\r\n-import know from \"@/assets/topic/know.png\";\r\n-import cani55 from \"@/assets/topic/cani55.png\";\r\n-import begintoadvance from \"@/assets/topic/begintoadvance.png\";\r\n+  // üü¢ Hook lu√¥n n·∫±m tr∆∞·ªõc m·ªçi return\r\n+  const filteredPosts = useMemo(() => {\r\n+    const keyword = searchQuery.toLowerCase().trim();\r\n+    if (!keyword) return posts;\r\n \r\n-type Post = {\r\n-  id: number;\r\n-  title: string;\r\n-  excerpt: string;\r\n-  type: \"image\" | \"video\";\r\n-  image?: StaticImageData | string;\r\n-  videoUrl?: string;\r\n-  author: string;\r\n-};\r\n+    return posts.filter((p) => {\r\n+      const matchTitle = p.title?.toLowerCase().includes(keyword);\r\n+      const matchExcerpt = p.excerpt?.toLowerCase().includes(keyword);\r\n+      const matchAuthor = p.author?.toLowerCase().includes(keyword);\r\n+      return matchTitle || matchExcerpt || matchAuthor;\r\n+    });\r\n+  }, [posts, searchQuery]);\r\n \r\n-type Topic = {\r\n-  title: string;\r\n-  subtitle: string;\r\n-  banner: StaticImageData | string;\r\n-  posts: Post[];\r\n-};\r\n+  useEffect(() => {\r\n+    if (!slug) return;\r\n+    topicService\r\n+      .getBySlug(slug)\r\n+      .then((res: { topic: Topic; posts: Post[] }) => {\r\n+        setTopic(res.topic);\r\n+        setPosts(res.posts);\r\n+        setCurrentPage(1);\r\n+      })\r\n+      .catch(console.error);\r\n+  }, [slug]);\r\n \r\n-// Helper function to get translated topics\r\n-const getTopics = (t: (key: string) => string): Record<string, Topic> => ({\r\n-  \"lifetime-money\": {\r\n-    title: t(\"topic.lifetimeMoney.title\"),\r\n-    subtitle: t(\"topic.lifetimeMoney.subtitle\"),\r\n-    banner: bannerLifetimeMoney,\r\n-    posts: [\r\n-      {\r\n-        id: 1,\r\n-        title: t(\"topic.lifetimeMoney.posts.1.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.1.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 2,\r\n-        title: t(\"topic.lifetimeMoney.posts.2.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.2.excerpt\"),\r\n-        type: \"video\",\r\n-        videoUrl: \"https://www.youtube.com/embed/dQw4w9WgXcQ\",\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 3,\r\n-        title: t(\"topic.lifetimeMoney.posts.3.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.3.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 4,\r\n-        title: t(\"topic.lifetimeMoney.posts.4.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.4.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 5,\r\n-        title: t(\"topic.lifetimeMoney.posts.5.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.5.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 6,\r\n-        title: t(\"topic.lifetimeMoney.posts.6.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.6.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 7,\r\n-        title: t(\"topic.lifetimeMoney.posts.7.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.7.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 8,\r\n-        title: t(\"topic.lifetimeMoney.posts.8.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.8.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 9,\r\n-        title: t(\"topic.lifetimeMoney.posts.9.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.9.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-      {\r\n-        id: 10,\r\n-        title: t(\"topic.lifetimeMoney.posts.10.title\"),\r\n-        excerpt: t(\"topic.lifetimeMoney.posts.10.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-    ],\r\n-  },\r\n-  \"retire-55\": {\r\n-    title: t(\"topic.retire55.title\"),\r\n-    subtitle: t(\"topic.retire55.subtitle\"),\r\n-    banner: bannerRetire55,\r\n-    posts: [\r\n-      {\r\n-        id: 1,\r\n-        title: t(\"topic.retire55.posts.1.title\"),\r\n-        excerpt: t(\"topic.retire55.posts.1.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-    ],\r\n-  },\r\n-  \"where-money\": {\r\n-    title: t(\"topic.whereMoney.title\"),\r\n-    subtitle: t(\"topic.whereMoney.subtitle\"),\r\n-    banner: bannerWhereMoney,\r\n-    posts: [\r\n-      {\r\n-        id: 1,\r\n-        title: t(\"topic.whereMoney.posts.1.title\"),\r\n-        excerpt: t(\"topic.whereMoney.posts.1.excerpt\"),\r\n-        type: \"image\",\r\n-        image: moneyImage,\r\n-        author: \"MoneyWise\",\r\n-      },\r\n-    ],\r\n-  },\r\n-});\r\n+  // üü° Sau khi t·∫•t c·∫£ hook ƒë√£ ƒë∆∞·ª£c g·ªçi, m·ªõi return conditionally\r\n+  if (!topic) return <div className=\"p-10 text-center\">ƒêang t·∫£i...</div>;\r\n \r\n+  // üî¢ Ph√¢n trang\r\n+  const totalPages = Math.ceil(filteredPosts.length / postsPerPage);\r\n+  const startIndex = (currentPage - 1) * postsPerPage;\r\n+  const currentPosts = filteredPosts.slice(startIndex, startIndex + postsPerPage);\r\n \r\n-const POSTS_PER_PAGE = 9;\r\n+  const goToPage = (page: number) => {\r\n+    if (page >= 1 && page <= totalPages) setCurrentPage(page);\r\n+    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n+  };\r\n \r\n-// üîπ Component con ƒë·ªÉ render Post\r\n-function PostCard({ post, slug, t }: { post: Post; slug: string; t: (key: string) => string }) {\r\n-  return (\r\n-    <div className=\"border-gray-300 border rounded-2xl shadow-sm hover:shadow-lg transition p-3 bg-white\">\r\n-      {/* Thumbnail */}\r\n-      {post.type === \"image\" && post.image && (\r\n-        <Image\r\n-          src={post.image}\r\n-          alt={post.title}\r\n-          width={400}\r\n-          height={250}\r\n-          className=\"rounded-xl object-cover w-full h-64\"\r\n-        />\r\n-      )}\r\n+  const isVideoFile = (url?: string) =>\r\n+    url ? /\\.(mp4|mov|webm|ogg)$/i.test(url) : false;\r\n \r\n-      {post.type === \"video\" && post.videoUrl && (\r\n-        <div className=\"relative w-full h-48\">\r\n-          <iframe\r\n-            src={post.videoUrl}\r\n-            title={post.title}\r\n-            className=\"w-full h-full rounded-lg\"\r\n-            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n-            allowFullScreen\r\n-          />\r\n-          <div className=\"absolute inset-0 bg-black/10 rounded-lg\"></div>\r\n-        </div>\r\n-      )}\r\n+  const isYouTube = (url?: string) =>\r\n+    url ? /youtu\\.?be|youtube\\.com/.test(url) : false;\r\n \r\n-      {/* Info */}\r\n-      <div className=\"mt-3\">\r\n-        <Link href={`/topic/${slug}/post/${post.id}`}>\r\n-          <h2 className=\"text-blue-700 font-semibold hover:underline\">\r\n-            {post.title}\r\n-          </h2>\r\n-        </Link>\r\n+  const getYouTubeEmbedUrl = (url: string): string => {\r\n+    const videoIdMatch = url.match(/(?:v=|\\/)([0-9A-Za-z_-]{11})(?:\\?|&|$)/) || [];\r\n+    const videoId = videoIdMatch[1];\r\n+    return videoId ? `https://www.youtube.com/embed/${videoId}` : url;\r\n+  };\r\n \r\n-        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\r\n-          {post.excerpt}\r\n-        </p>\r\n+  return (\r\n+    <div>\r\n+      <HeroSection\r\n+        image={topic.banner ?? \"/default-banner.jpg\"}\r\n+        title={topic.title}\r\n+        subtitle={topic.subtitle ?? \"\"}\r\n+      />\r\n \r\n-        <div className=\"flex justify-between items-center text-xs mt-2 text-gray-500\">\r\n-          <span>{post.author}</span>\r\n-          <Link\r\n-            href={`/topic/${slug}/post/${post.id}`}\r\n-            className=\"hover:underline\"\r\n+      {/* üü¢ Thanh ti√™u ƒë·ªÅ + √¥ t√¨m ki·∫øm */}\r\n+      <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 my-6\">\r\n+        <h1 className=\"flex items-center text-xl sm:text-4xl font-bold px-3 py-2\">\r\n+          {topic.title}\r\n+        </h1>\r\n+\r\n+        <div className=\"flex items-center border border-green-600 rounded-full px-3 py-2 w-full sm:max-w-sm\">\r\n+          <svg\r\n+            xmlns=\"http://www.w3.org/2000/svg\"\r\n+            fill=\"none\"\r\n+            viewBox=\"0 0 24 24\"\r\n+            strokeWidth={2}\r\n+            stroke=\"currentColor\"\r\n+            className=\"w-5 h-5 text-green-700\"\r\n           >\r\n-            {t(\"topic.viewMore\")}\r\n-          </Link>\r\n+            <path\r\n+              strokeLinecap=\"round\"\r\n+              strokeLinejoin=\"round\"\r\n+              d=\"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z\"\r\n+            />\r\n+          </svg>\r\n+          <input\r\n+            type=\"text\"\r\n+            placeholder={t(\"topic.search\")}\r\n+            value={searchQuery}\r\n+            onChange={(e) => {\r\n+              setSearchQuery(e.target.value);\r\n+              setCurrentPage(1);\r\n+            }}\r\n+            className=\"flex-1 px-3 py-1 text-gray-700 focus:outline-none text-sm sm:text-base\"\r\n+          />\r\n         </div>\r\n       </div>\r\n-    </div>\r\n-  );\r\n-}\r\n \r\n-export default function TopicPage({ params }: { params: { slug: string } }) {\r\n-  const { t } = useLanguage();\r\n-  const topics = getTopics(t);\r\n-  const topic = topics[params.slug];\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n+      {/* Danh s√°ch b√†i vi·∫øt */}\r\n+      <div className=\"max-w-6xl mx-auto py-10 px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n+        {currentPosts.length === 0 ? (\r\n+          <p className=\"col-span-full text-center text-gray-500\">\r\n+            Kh√¥ng t√¨m th·∫•y b√†i vi·∫øt n√†o.\r\n+          </p>\r\n+        ) : (\r\n\\ No newline at end of file\n+          currentPosts.map((post) => {\r\n+            const isVideo = post.type === \"video\";\r\n+            const videoUrl = post.videoUrl;\r\n+            return (\r\n+              <div\r\n+                key={post._id}\r\n+                className=\"border rounded-lg overflow-hidden shadow bg-white hover:shadow-lg transition flex flex-col\"\r\n+              >\r\n+                <div className=\"relative w-full h-48 bg-gray-100\">\r\n+                  {isVideo && videoUrl ? (\r\n+                    isYouTube(videoUrl) ? (\r\n+                      <iframe\r\n+                        src={getYouTubeEmbedUrl(videoUrl)}\r\n+                        className=\"w-full h-full\"\r\n+                        allowFullScreen\r\n+                      ></iframe>\r\n+                    ) : isVideoFile(videoUrl) ? (\r\n+                      <video\r\n+                        src={videoUrl}\r\n+                        className=\"w-full h-full object-cover\"\r\n+                        controls\r\n+                        muted\r\n+                        loop\r\n+                      />\r\n+                    ) : (\r\n+                      <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n+                        Video kh√¥ng h·ª£p l·ªá\r\n+                      </div>\r\n+                    )\r\n+                  ) : (\r\n+                    <Image\r\n+                      src={post.image || \"/default-thumbnail.jpg\"}\r\n+                      alt={post.title}\r\n+                      fill\r\n+                      className=\"object-cover\"\r\n+                    />\r\n+                  )}\r\n+                </div>\r\n \r\n-  if (!topic) {\r\n-    return <div className=\"p-10 text-center\">{t(\"topic.notFound\")}</div>;\r\n-  }\r\n+                <div className=\"p-4 flex flex-col flex-grow\">\r\n+                  <h3 className=\"font-bold text-lg mb-2 line-clamp-2\">\r\n+                    {post.title}\r\n+                  </h3>\r\n+                  <p className=\"text-gray-600 text-sm mb-3 line-clamp-3\">\r\n+                    {post.excerpt}\r\n+                  </p>\r\n+                  <div className=\"mt-auto\">\r\n+                    <a\r\n+                      href={`/topic/${slug}/post/${post._id}`}\r\n+                      className=\"text-blue-600 hover:underline font-medium\"\r\n+                    >\r\n+                      Xem chi ti·∫øt ‚Üí\r\n+                    </a>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            );\r\n+          })\r\n+        )}\r\n+      </div>\r\n \r\n-  const totalPages = Math.ceil(topic.posts.length / POSTS_PER_PAGE);\r\n-  const startIndex = (currentPage - 1) * POSTS_PER_PAGE;\r\n-  const currentPosts = topic.posts.slice(\r\n-    startIndex,\r\n-    startIndex + POSTS_PER_PAGE\r\n-  );\r\n+      {/* Pagination */}\r\n+      {totalPages > 1 && (\r\n+        <div className=\"flex justify-center items-center gap-2 mt-10\">\r\n+          <button\r\n+            onClick={() => goToPage(currentPage - 1)}\r\n+            disabled={currentPage === 1}\r\n+            className={`px-4 py-2 border rounded-md ${\r\n+              currentPage === 1\r\n+                ? \"bg-gray-200 text-gray-400 cursor-not-allowed\"\r\n+                : \"bg-white hover:bg-gray-100\"\r\n+            }`}\r\n+          >\r\n+            <ChevronLeft />\r\n+          </button>\r\n \r\n-  return (\r\n-<div>\r\n-  <HeroSection\r\n-    image={topic.banner}\r\n-    title={topic.title}\r\n-    subtitle={topic.subtitle}\r\n-  />\r\n+          {[...Array(totalPages)].map((_, i) => (\r\n+            <button\r\n+              key={i}\r\n+              onClick={() => goToPage(i + 1)}\r\n+              className={`px-3 py-2 border rounded-md ${\r\n+                currentPage === i + 1\r\n+                  ? \"bg-green-600 text-white\"\r\n+                  : \"bg-white hover:bg-gray-100\"\r\n+              }`}\r\n+            >\r\n+              {i + 1}\r\n+            </button>\r\n+          ))}\r\n \r\n-  {/* Logo + Search */}\r\n-  <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 my-6\">\r\n-    {/* Logo */}\r\n-    <Image src={LOGO} alt=\"Logo\" className=\"w-28 sm:w-36\" />\r\n-\r\n-    {/* Search */}\r\n-    <div className=\"flex items-center border border-green-600 rounded-full px-3 py-2 w-full sm:max-w-sm\">\r\n-      <svg\r\n-        xmlns=\"http://www.w3.org/2000/svg\"\r\n-        fill=\"none\"\r\n-        viewBox=\"0 0 24 24\"\r\n-        strokeWidth={2}\r\n-        stroke=\"currentColor\"\r\n-        className=\"w-5 h-5 text-green-700\"\r\n-      >\r\n-        <path\r\n-          strokeLinecap=\"round\"\r\n-          strokeLinejoin=\"round\"\r\n-          d=\"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z\"\r\n-        />\r\n-      </svg>\r\n-      <input\r\n-        type=\"text\"\r\n-        placeholder={t(\"topic.search\")}\r\n-        className=\"flex-1 px-3 py-1 text-gray-700 focus:outline-none text-sm sm:text-base\"\r\n-      />\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n-    <h1 className=\"text-xl sm:text-2xl font-bold mb-6\">{topic.title}</h1>\r\n-\r\n-    {/* Grid b√†i vi·∫øt */}\r\n-    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n-      {currentPosts.map((post) => (\r\n-        <PostCard key={post.id} post={post} slug={params.slug} t={t} />\r\n-      ))}\r\n-    </div>\r\n-\r\n-    {/* Pagination */}\r\n-    {totalPages > 1 && (\r\n-      <div className=\"flex flex-wrap justify-center items-center gap-2 mt-8\">\r\n-        <button\r\n-          className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50 text-sm sm:text-base\"\r\n-          disabled={currentPage === 1}\r\n-          onClick={() => setCurrentPage((prev) => prev - 1)}\r\n-        >\r\n-          ¬´\r\n-        </button>\r\n-\r\n-        {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n           <button\r\n-            key={page}\r\n-            className={`px-3 py-1 border rounded text-sm sm:text-base ${\r\n-              page === currentPage\r\n-                ? \"bg-black text-white\"\r\n-                : \"hover:bg-gray-100\"\r\n+            onClick={() => goToPage(currentPage + 1)}\r\n+            disabled={currentPage === totalPages}\r\n+            className={`px-4 py-2 border rounded-md ${\r\n+              currentPage === totalPages\r\n+                ? \"bg-gray-200 text-gray-400 cursor-not-allowed\"\r\n+                : \"bg-white hover:bg-gray-100\"\r\n             }`}\r\n-            onClick={() => setCurrentPage(page)}\r\n           >\r\n-            {page}\r\n+            <ChevronRight />\r\n           </button>\r\n-        ))}\r\n+        </div>\r\n+      )}\r\n \r\n-        <button\r\n-          className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50 text-sm sm:text-base\"\r\n-          disabled={currentPage === totalPages}\r\n-          onClick={() => setCurrentPage((prev) => prev + 1)}\r\n-        >\r\n-          ¬ª\r\n-        </button>\r\n-      </div>\r\n-    )}\r\n-\r\n-    <div className=\"w-full border-t border-green-800 mt-8 mx-auto\"></div>\r\n-    <Contact />\r\n-  </div>\r\n-</div>\r\n-\r\n+      <div className=\"w-[80%] border-t border-green-800 mt-6 mx-auto\"></div>\r\n+      <Contact />\r\n+    </div>\r\n   );\r\n-}\n+}\r\n"
                },
                {
                    "date": 1760080092895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,5 +225,5 @@\n       <div className=\"w-[80%] border-t border-green-800 mt-6 mx-auto\"></div>\r\n       <Contact />\r\n     </div>\r\n   );\r\n-}\n\\ No newline at end of file\n+}\r\n"
                }
            ],
            "date": 1759734123493,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport Image, { StaticImageData } from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nimport HeroSection from \"@/app/(user)/topic/components/HeroSection\";\r\nimport Contact from \"@/components/Contact\";\r\n\r\nimport bannerLifetimeMoney from \"@/assets/topic/banner-lifetime-money.svg\";\r\nimport bannerRetire55 from \"@/assets/topic/banner-retire-55.svg\";\r\nimport bannerWhereMoney from \"@/assets/topic/banner-where-money.svg\";\r\nimport moneyImage from \"@/assets/topic/money.svg\";\r\nimport LOGO from \"../../../../../public/logonon.svg\";\r\n\r\ntype Post = {\r\n  id: number;\r\n  title: string;\r\n  excerpt: string;\r\n  type: \"image\" | \"video\";\r\n  image?: StaticImageData | string;\r\n  videoUrl?: string;\r\n  author: string;\r\n};\r\n\r\ntype Topic = {\r\n  title: string;\r\n  subtitle: string;\r\n  banner: StaticImageData | string;\r\n  posts: Post[];\r\n};\r\n\r\n// Helper function to get translated topics\r\nconst getTopics = (t: (key: string) => string): Record<string, Topic> => ({\r\n  \"lifetime-money\": {\r\n    title: t(\"topic.lifetimeMoney.title\"),\r\n    subtitle: t(\"topic.lifetimeMoney.subtitle\"),\r\n    banner: bannerLifetimeMoney,\r\n    posts: [\r\n      {\r\n        id: 1,\r\n        title: t(\"topic.lifetimeMoney.posts.1.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.1.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 2,\r\n        title: t(\"topic.lifetimeMoney.posts.2.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.2.excerpt\"),\r\n        type: \"video\",\r\n        videoUrl: \"https://www.youtube.com/embed/dQw4w9WgXcQ\",\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 3,\r\n        title: t(\"topic.lifetimeMoney.posts.3.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.3.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 4,\r\n        title: t(\"topic.lifetimeMoney.posts.4.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.4.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 5,\r\n        title: t(\"topic.lifetimeMoney.posts.5.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.5.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 6,\r\n        title: t(\"topic.lifetimeMoney.posts.6.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.6.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 7,\r\n        title: t(\"topic.lifetimeMoney.posts.7.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.7.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 8,\r\n        title: t(\"topic.lifetimeMoney.posts.8.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.8.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 9,\r\n        title: t(\"topic.lifetimeMoney.posts.9.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.9.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n      {\r\n        id: 10,\r\n        title: t(\"topic.lifetimeMoney.posts.10.title\"),\r\n        excerpt: t(\"topic.lifetimeMoney.posts.10.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n    ],\r\n  },\r\n  \"retire-55\": {\r\n    title: t(\"topic.retire55.title\"),\r\n    subtitle: t(\"topic.retire55.subtitle\"),\r\n    banner: bannerRetire55,\r\n    posts: [\r\n      {\r\n        id: 1,\r\n        title: t(\"topic.retire55.posts.1.title\"),\r\n        excerpt: t(\"topic.retire55.posts.1.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n    ],\r\n  },\r\n  \"where-money\": {\r\n    title: t(\"topic.whereMoney.title\"),\r\n    subtitle: t(\"topic.whereMoney.subtitle\"),\r\n    banner: bannerWhereMoney,\r\n    posts: [\r\n      {\r\n        id: 1,\r\n        title: t(\"topic.whereMoney.posts.1.title\"),\r\n        excerpt: t(\"topic.whereMoney.posts.1.excerpt\"),\r\n        type: \"image\",\r\n        image: moneyImage,\r\n        author: \"MoneyWise\",\r\n      },\r\n    ],\r\n  },\r\n});\r\n\r\n\r\nconst POSTS_PER_PAGE = 9;\r\n\r\n// üîπ Component con ƒë·ªÉ render Post\r\nfunction PostCard({ post, slug, t }: { post: Post; slug: string; t: (key: string) => string }) {\r\n  return (\r\n    <div className=\"border-gray-300 border rounded-2xl shadow-sm hover:shadow-lg transition p-3 bg-white\">\r\n      {/* Thumbnail */}\r\n      {post.type === \"image\" && post.image && (\r\n        <Image\r\n          src={post.image}\r\n          alt={post.title}\r\n          width={400}\r\n          height={250}\r\n          className=\"rounded-xl object-cover w-full h-64\"\r\n        />\r\n      )}\r\n\r\n      {post.type === \"video\" && post.videoUrl && (\r\n        <div className=\"relative w-full h-48\">\r\n          <iframe\r\n            src={post.videoUrl}\r\n            title={post.title}\r\n            className=\"w-full h-full rounded-lg\"\r\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowFullScreen\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/10 rounded-lg\"></div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Info */}\r\n      <div className=\"mt-3\">\r\n        <Link href={`/topic/${slug}/post/${post.id}`}>\r\n          <h2 className=\"text-blue-700 font-semibold hover:underline\">\r\n            {post.title}\r\n          </h2>\r\n        </Link>\r\n\r\n        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\r\n          {post.excerpt}\r\n        </p>\r\n\r\n        <div className=\"flex justify-between items-center text-xs mt-2 text-gray-500\">\r\n          <span>{post.author}</span>\r\n          <Link\r\n            href={`/topic/${slug}/post/${post.id}`}\r\n            className=\"hover:underline\"\r\n          >\r\n            {t(\"topic.viewMore\")}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function TopicPage({ params }: { params: { slug: string } }) {\r\n  const { t } = useLanguage();\r\n  const topics = getTopics(t);\r\n  const topic = topics[params.slug];\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  if (!topic) {\r\n    return <div className=\"p-10 text-center\">{t(\"topic.notFound\")}</div>;\r\n  }\r\n\r\n  const totalPages = Math.ceil(topic.posts.length / POSTS_PER_PAGE);\r\n  const startIndex = (currentPage - 1) * POSTS_PER_PAGE;\r\n  const currentPosts = topic.posts.slice(\r\n    startIndex,\r\n    startIndex + POSTS_PER_PAGE\r\n  );\r\n\r\n  return (\r\n<div>\r\n  <HeroSection\r\n    image={topic.banner}\r\n    title={topic.title}\r\n    subtitle={topic.subtitle}\r\n  />\r\n\r\n  {/* Logo + Search */}\r\n  <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 my-6\">\r\n    {/* Logo */}\r\n    <Image src={LOGO} alt=\"Logo\" className=\"w-28 sm:w-36\" />\r\n\r\n    {/* Search */}\r\n    <div className=\"flex items-center border border-green-600 rounded-full px-3 py-2 w-full sm:max-w-sm\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        strokeWidth={2}\r\n        stroke=\"currentColor\"\r\n        className=\"w-5 h-5 text-green-700\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z\"\r\n        />\r\n      </svg>\r\n      <input\r\n        type=\"text\"\r\n        placeholder={t(\"topic.search\")}\r\n        className=\"flex-1 px-3 py-1 text-gray-700 focus:outline-none text-sm sm:text-base\"\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n    <h1 className=\"text-xl sm:text-2xl font-bold mb-6\">{topic.title}</h1>\r\n\r\n    {/* Grid b√†i vi·∫øt */}\r\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      {currentPosts.map((post) => (\r\n        <PostCard key={post.id} post={post} slug={params.slug} t={t} />\r\n      ))}\r\n    </div>\r\n\r\n    {/* Pagination */}\r\n    {totalPages > 1 && (\r\n      <div className=\"flex flex-wrap justify-center items-center gap-2 mt-8\">\r\n        <button\r\n          className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50 text-sm sm:text-base\"\r\n          disabled={currentPage === 1}\r\n          onClick={() => setCurrentPage((prev) => prev - 1)}\r\n        >\r\n          ¬´\r\n        </button>\r\n\r\n        {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n          <button\r\n            key={page}\r\n            className={`px-3 py-1 border rounded text-sm sm:text-base ${\r\n              page === currentPage\r\n                ? \"bg-black text-white\"\r\n                : \"hover:bg-gray-100\"\r\n            }`}\r\n            onClick={() => setCurrentPage(page)}\r\n          >\r\n            {page}\r\n          </button>\r\n        ))}\r\n\r\n        <button\r\n          className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50 text-sm sm:text-base\"\r\n          disabled={currentPage === totalPages}\r\n          onClick={() => setCurrentPage((prev) => prev + 1)}\r\n        >\r\n          ¬ª\r\n        </button>\r\n      </div>\r\n    )}\r\n\r\n    <div className=\"w-full border-t border-green-800 mt-8 mx-auto\"></div>\r\n    <Contact />\r\n  </div>\r\n</div>\r\n\r\n  );\r\n}\r\n"
        }
    ]
}