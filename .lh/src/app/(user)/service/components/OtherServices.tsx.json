{
    "sourceFile": "src/app/(user)/service/components/OtherServices.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1759734123413,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760080058251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,41 +1,54 @@\n \"use client\";\r\n \r\n+import { useEffect, useState } from \"react\";\r\n+import Link from \"next/link\";\r\n import ServiceCard from \"./ServiceCard\";\r\n import { useLanguage } from \"@/contexts/LanguageContext\";\r\n+import { serviceService } from \"@/services/service.service\";\r\n+import { Service } from \"@/types/service\";\r\n \r\n-export default function OtherServices() {\r\n+interface OtherServicesProps {\r\n+  currentId: string;\r\n+}\r\n+\r\n+export default function OtherServices({ currentId }: OtherServicesProps) {\r\n   const { t } = useLanguage();\r\n+  const [services, setServices] = useState<Service[]>([]);\r\n   \r\n-  const services = [\r\n-    {\r\n-      title: t(\"service.services.0.title\"),\r\n-      description: t(\"service.services.0.description\"),\r\n-      image: \"/images/service-1.jpg\",\r\n-    },\r\n-    {\r\n-      title: t(\"service.services.1.title\"),\r\n-      description: t(\"service.services.1.description\"),\r\n-      image: \"/images/service-2.jpg\",\r\n-    },\r\n-    {\r\n-      title: t(\"service.services.2.title\"),\r\n-      description: t(\"service.services.2.description\"),\r\n-      image: \"/images/service-3.jpg\",\r\n-    },\r\n-  ];\r\n+  useEffect(() => {\r\n+    const fetchServices = async () => {\r\n+      try {\r\n+        const data = await serviceService.getAll();\r\n+        // Lọc bỏ service hiện tại và lấy 3 services khác\r\n+        const otherServices = data.filter(s => s._id !== currentId).slice(0, 3);\r\n+        setServices(otherServices);\r\n+      } catch (err) {\r\n+        console.error(\"Error fetching other services:\", err);\r\n+      }\r\n+    };\r\n+    fetchServices();\r\n+  }, [currentId]);\r\n \r\n+  if (services.length === 0) return null;\r\n+\r\n   return (\r\n-    <div className=\"max-w-6xl mx-auto px-4 mt-10\">\r\n+    <div className=\"max-w-6xl mx-auto px-4 mt-14\">\r\n       <div className=\"flex justify-between items-center mb-6\">\r\n         <h3 className=\"text-xl font-semibold\">{t(\"service.otherServices.title\")}</h3>\r\n-        <a href=\"#\" className=\"text-green-600 hover:underline\">\r\n+        <Link href=\"/service\" className=\"text-green-600 hover:underline\">\r\n           {t(\"service.otherServices.viewAll\")}\r\n-        </a>\r\n+        </Link>\r\n       </div>\r\n       <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n-        {services.map((service, index) => (\r\n-          <ServiceCard key={index} {...service} />\r\n+        {services.map((srv) => (\r\n+          <Link key={srv._id} href={`/service/${srv._id}`}>\r\n+            <ServiceCard\r\n+              title={srv.title}\r\n+              description={srv.description || \"\"}\r\n+              image={srv.icon || \"/images/default-service.jpg\"}\r\n+            />\r\n+          </Link>\r\n         ))}\r\n       </div>\r\n     </div>\r\n   );\r\n"
                }
            ],
            "date": 1759734123413,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport ServiceCard from \"./ServiceCard\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nexport default function OtherServices() {\r\n  const { t } = useLanguage();\r\n  \r\n  const services = [\r\n    {\r\n      title: t(\"service.services.0.title\"),\r\n      description: t(\"service.services.0.description\"),\r\n      image: \"/images/service-1.jpg\",\r\n    },\r\n    {\r\n      title: t(\"service.services.1.title\"),\r\n      description: t(\"service.services.1.description\"),\r\n      image: \"/images/service-2.jpg\",\r\n    },\r\n    {\r\n      title: t(\"service.services.2.title\"),\r\n      description: t(\"service.services.2.description\"),\r\n      image: \"/images/service-3.jpg\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 mt-10\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h3 className=\"text-xl font-semibold\">{t(\"service.otherServices.title\")}</h3>\r\n        <a href=\"#\" className=\"text-green-600 hover:underline\">\r\n          {t(\"service.otherServices.viewAll\")}\r\n        </a>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n        {services.map((service, index) => (\r\n          <ServiceCard key={index} {...service} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}