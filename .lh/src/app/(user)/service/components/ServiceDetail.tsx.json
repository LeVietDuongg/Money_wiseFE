{
    "sourceFile": "src/app/(user)/service/components/ServiceDetail.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1759734123051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760063125255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,86 @@\n \"use client\";\r\n \r\n import Image from \"next/image\";\r\n-import { useLanguage } from \"@/contexts/LanguageContext\";\r\n+import { useEffect, useState } from \"react\";\r\n+import { useLanguage } from \"@/contexts/LanguageContext\"; // üëà Ng·ªØ c·∫£nh ng√¥n ng·ªØ\r\n+import { Service } from \"@/types/service\";\r\n \r\n-export default function ServiceDetail() {\r\n-  const { t } = useLanguage();\r\n-  \r\n+interface Props {\r\n+  service: Service;\r\n+}\r\n+\r\n+export default function ServiceDetail({ service }: Props) {\r\n+  const { language } = useLanguage();\r\n+  const [translated, setTranslated] = useState<Service>(service);\r\n+\r\n+  useEffect(() => {\r\n+    async function translate() {\r\n+      if (language === \"vi\") {\r\n+        setTranslated(service);\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        const descRes = await fetch(\r\n+          `/api/translate?text=${encodeURIComponent(service.description)}&lang=${language}`\r\n+        );\r\n+        const contentRes = await fetch(\r\n+          `/api/translate?text=${encodeURIComponent(service.content || \"\")}&lang=${language}`\r\n+        );\r\n+\r\n+        const [descData, contentData] = await Promise.all([\r\n+          descRes.json(),\r\n+          contentRes.json(),\r\n+        ]);\r\n+\r\n+        setTranslated({\r\n+          ...service,\r\n+          description: descData.text || service.description,\r\n+          content: contentData.text || service.content,\r\n+        });\r\n+      } catch (error) {\r\n+        console.error(\"‚ùå Translate error:\", error);\r\n+        setTranslated(service); // fallback\r\n+      }\r\n+    }\r\n+\r\n+    translate();\r\n+  }, [language, service]);\r\n+\r\n   return (\r\n     <div className=\"w-full max-w-4xl mx-auto px-4\">\r\n-      <h2 className=\"text-2xl font-bold mb-2\">{t(\"service.title\")}</h2>\r\n-      <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">\r\n-        {t(\"service.company\")}\r\n-      </h3>\r\n+      <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-gray-900\">\r\n+        {translated.title}\r\n+      </h2>\r\n \r\n-      <Image\r\n-        src=\"/images/service-main.jpg\"\r\n-        alt={t(\"service.title\")}\r\n-        width={800}\r\n-        height={400}\r\n-        className=\"rounded-md mb-6\"\r\n-      />\r\n+      <p className=\"text-gray-600 text-sm mb-6\">\r\n+        {new Date(service.createdAt || \"\").toLocaleDateString(\"vi-VN\", {\r\n+          year: \"numeric\",\r\n+          month: \"long\",\r\n+          day: \"numeric\",\r\n+        })}\r\n+      </p>\r\n \r\n-      <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n-        {t(\"service.description1\")}\r\n+      {service.image && (\r\n+        <Image\r\n+          src={service.image}\r\n+          alt={translated.title}\r\n+          width={800}\r\n+          height={400}\r\n+          className=\"rounded-lg mb-6 object-cover w-full h-auto\"\r\n+        />\r\n+      )}\r\n+\r\n+      <p className=\"text-gray-700 leading-relaxed mb-4 whitespace-pre-line\">\r\n+        {translated.description}\r\n       </p>\r\n \r\n-      <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n-        {t(\"service.description2\")}\r\n-      </p>\r\n+      {translated.content && (\r\n+        <div\r\n+          className=\"prose max-w-none text-gray-800\"\r\n+          dangerouslySetInnerHTML={{ __html: translated.content }}\r\n+        />\r\n+      )}\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1760080057760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,85 +1,42 @@\n \"use client\";\r\n \r\n import Image from \"next/image\";\r\n-import { useEffect, useState } from \"react\";\r\n-import { useLanguage } from \"@/contexts/LanguageContext\"; // üëà Ng·ªØ c·∫£nh ng√¥n ng·ªØ\r\n+import { useLanguage } from \"@/contexts/LanguageContext\";\r\n import { Service } from \"@/types/service\";\r\n \r\n-interface Props {\r\n+interface ServiceDetailProps {\r\n   service: Service;\r\n }\r\n \r\n-export default function ServiceDetail({ service }: Props) {\r\n-  const { language } = useLanguage();\r\n-  const [translated, setTranslated] = useState<Service>(service);\r\n-\r\n-  useEffect(() => {\r\n-    async function translate() {\r\n-      if (language === \"vi\") {\r\n-        setTranslated(service);\r\n-        return;\r\n-      }\r\n-\r\n-      try {\r\n-        const descRes = await fetch(\r\n-          `/api/translate?text=${encodeURIComponent(service.description)}&lang=${language}`\r\n-        );\r\n-        const contentRes = await fetch(\r\n-          `/api/translate?text=${encodeURIComponent(service.content || \"\")}&lang=${language}`\r\n-        );\r\n-\r\n-        const [descData, contentData] = await Promise.all([\r\n-          descRes.json(),\r\n-          contentRes.json(),\r\n-        ]);\r\n-\r\n-        setTranslated({\r\n-          ...service,\r\n-          description: descData.text || service.description,\r\n-          content: contentData.text || service.content,\r\n-        });\r\n-      } catch (error) {\r\n-        console.error(\"‚ùå Translate error:\", error);\r\n-        setTranslated(service); // fallback\r\n-      }\r\n-    }\r\n-\r\n-    translate();\r\n-  }, [language, service]);\r\n-\r\n+export default function ServiceDetail({ service }: ServiceDetailProps) {\r\n+  const { t } = useLanguage();\r\n+  \r\n   return (\r\n     <div className=\"w-full max-w-4xl mx-auto px-4\">\r\n-      <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-gray-900\">\r\n-        {translated.title}\r\n-      </h2>\r\n+      <h2 className=\"text-2xl font-bold mb-2\">{service.title}</h2>\r\n+      <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">\r\n+        {t(\"service.company\")}\r\n+      </h3>\r\n \r\n-      <p className=\"text-gray-600 text-sm mb-6\">\r\n-        {new Date(service.createdAt || \"\").toLocaleDateString(\"vi-VN\", {\r\n-          year: \"numeric\",\r\n-          month: \"long\",\r\n-          day: \"numeric\",\r\n-        })}\r\n-      </p>\r\n-\r\n       {service.image && (\r\n         <Image\r\n           src={service.image}\r\n-          alt={translated.title}\r\n+          alt={service.title}\r\n           width={800}\r\n           height={400}\r\n-          className=\"rounded-lg mb-6 object-cover w-full h-auto\"\r\n+          className=\"rounded-md mb-6\"\r\n         />\r\n       )}\r\n \r\n-      <p className=\"text-gray-700 leading-relaxed mb-4 whitespace-pre-line\">\r\n-        {translated.description}\r\n+      <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n+        {service.description}\r\n       </p>\r\n \r\n-      {translated.content && (\r\n-        <div\r\n-          className=\"prose max-w-none text-gray-800\"\r\n-          dangerouslySetInnerHTML={{ __html: translated.content }}\r\n+      {service.content && (\r\n+        <div \r\n+          className=\"text-gray-700 leading-relaxed mb-4 prose max-w-none\"\r\n+          dangerouslySetInnerHTML={{ __html: service.content }}\r\n         />\r\n       )}\r\n     </div>\r\n   );\r\n"
                }
            ],
            "date": 1759734123051,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nexport default function ServiceDetail() {\r\n  const { t } = useLanguage();\r\n  \r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto px-4\">\r\n      <h2 className=\"text-2xl font-bold mb-2\">{t(\"service.title\")}</h2>\r\n      <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">\r\n        {t(\"service.company\")}\r\n      </h3>\r\n\r\n      <Image\r\n        src=\"/images/service-main.jpg\"\r\n        alt={t(\"service.title\")}\r\n        width={800}\r\n        height={400}\r\n        className=\"rounded-md mb-6\"\r\n      />\r\n\r\n      <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n        {t(\"service.description1\")}\r\n      </p>\r\n\r\n      <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n        {t(\"service.description2\")}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}